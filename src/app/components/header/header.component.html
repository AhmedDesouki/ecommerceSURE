<header class="header">
  <div class="header-container">
    <!-- Logo Section -->
    <a routerLink="/" class="logo">
      <div class="logo-icon">üõçÔ∏è</div>
      <span>SURE STORE</span>
    </a>

    <!-- Desktop Navigation -->
    <nav class="nav">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link">
        Home
      </a>
      <a routerLink="/products" routerLinkActive="active" class="nav-link">
        Products
      </a>
      <a routerLink="/categories" routerLinkActive="active" class="nav-link">
        Categories
      </a>
      @if (isAdmin()) {
        <a routerLink="/admin/products" routerLinkActive="active" class="nav-link">
          Admin
        </a>
      }
    </nav>

    <!-- User Section -->
    <div class="user-section">
      @if (isAuthenticated()) {
        <!-- Cart Icon -->
        <div class="cart-icon" routerLink="/cart">
          üõí
          @if (cartItemCount > 0) {
            <span class="cart-badge">{{ cartItemCount }}</span>
          }
        </div>

        <!-- User Info -->
        <div class="user-info">
          <div class="user-avatar">
            {{ getCurrentUser()?.name?.charAt(0) || 'U' }}
          </div>
          <div class="user-details">
            <div class="user-name">{{ getCurrentUser()?.name || 'User' }}</div>
            <div class="user-role">{{ getCurrentUser()?.role || 'user' }}</div>
          </div>
        </div>

        <!-- User Actions -->
        <div class="user-actions">
          <a routerLink="/profile" class="btn btn-outline">Profile</a>
          <button class="btn btn-secondary" (click)="logout()">Logout</button>
        </div>
      } @else {
        <!-- Guest User -->
        <div class="user-actions">
          <a routerLink="/login" class="btn btn-outline">Login</a>
          <a routerLink="/register" class="btn btn-primary">Sign Up</a>
        </div>
      }
    </div>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" (click)="toggleMobileMenu()" [class.active]="isMobileMenuOpen">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div class="mobile-menu" [class.active]="isMobileMenuOpen">
    <nav class="mobile-nav">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="mobile-nav-link" (click)="closeMobileMenu()">
        Home
      </a>
      <a routerLink="/products" routerLinkActive="active" class="mobile-nav-link" (click)="closeMobileMenu()">
        Products
      </a>
      <a routerLink="/categories" routerLinkActive="active" class="mobile-nav-link" (click)="closeMobileMenu()">
        Categories
      </a>
      @if (isAdmin()) {
        <a routerLink="/admin/products" routerLinkActive="active" class="mobile-nav-link" (click)="closeMobileMenu()">
          Admin
        </a>
      }
    </nav>

    @if (isAuthenticated()) {
      <div class="mobile-user-section">
        <div class="mobile-user-info">
          <div class="user-avatar">
            {{ getCurrentUser()?.name?.charAt(0) || 'U' }}
          </div>
          <div class="user-details">
            <div class="user-name">{{ getCurrentUser()?.name || 'User' }}</div>
            <div class="user-role">{{ getCurrentUser()?.role || 'user' }}</div>
          </div>
        </div>
        <div class="mobile-user-actions">
          <a routerLink="/cart" class="btn btn-outline" (click)="closeMobileMenu()">
            üõí Cart ({{ cartItemCount }})
          </a>
          <a routerLink="/profile" class="btn btn-secondary" (click)="closeMobileMenu()">Profile</a>
          <button class="btn btn-primary" (click)="logout(); closeMobileMenu()">Logout</button>
        </div>
      </div>
    } @else {
      <div class="mobile-user-section">
        <div class="mobile-user-actions">
          <a routerLink="/login" class="btn btn-outline" (click)="closeMobileMenu()">Login</a>
          <a routerLink="/register" class="btn btn-primary" (click)="closeMobileMenu()">Sign Up</a>
        </div>
      </div>
    }
  </div>
</header>