<div class="admin-container">  
  <!-- Enhanced Header Section -->  
  <div class="admin-header">  
    <h1>Category Management</h1>  
    <p>Organize your store's product categories - add, edit, and manage categories</p>  
    <button mat-raised-button color="primary" (click)="showAddForm()" class="add-btn">  
      <mat-icon>add</mat-icon>  
      Add New Category  
    </button>  
  </div>  
  
  <!-- Loading State -->  
  @if (isLoading) {  
    <div class="loading-container">  
      <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>  
    </div>  
  }  
  
  <!-- Categories Table -->  
  @if (!isLoading) {  
    <div class="table-section">  
      <mat-card class="table-card">  
        <mat-card-header>  
          <mat-card-title>Categories</mat-card-title>  
          <mat-card-subtitle>Manage your product categories</mat-card-subtitle>  
        </mat-card-header>  
          
        <div class="table-container">  
          <table mat-table [dataSource]="categories" class="categories-table">  
            <ng-container matColumnDef="id">  
              <th mat-header-cell *matHeaderCellDef> ID </th>  
              <td mat-cell *matCellDef="let c"> {{c.id}} </td>  
            </ng-container>  
  
            <ng-container matColumnDef="name">  
              <th mat-header-cell *matHeaderCellDef> Name </th>  
              <td mat-cell *matCellDef="let c">   
                <strong>{{c.name}}</strong>  
              </td>  
            </ng-container>  
  
            <ng-container matColumnDef="description">  
              <th mat-header-cell *matHeaderCellDef> Description </th>  
              <td mat-cell *matCellDef="let c">   
                <span class="description-text">{{c.description || 'No description'}}</span>  
              </td>  
            </ng-container>  
  
            <ng-container matColumnDef="actions">  
              <th mat-header-cell *matHeaderCellDef> Actions </th>  
              <td mat-cell *matCellDef="let c">  
                <div class="action-buttons">  
                  <button mat-icon-button color="primary" (click)="showEditForm(c)"   
                          matTooltip="Edit category">  
                    <mat-icon>edit</mat-icon>  
                  </button>  
                  <button mat-icon-button color="warn" (click)="deleteCategory(c.id)"  
                          matTooltip="Delete category">  
                    <mat-icon>delete</mat-icon>  
                  </button>  
                </div>  
              </td>  
            </ng-container>  
  
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>  
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>  
          </table>  
        </div>  
      </mat-card>  
    </div>  
  }  
  
  <!-- Add/Edit Form -->  
  @if (showForm) {  
    <div class="form-section">  
      <mat-card class="form-card">  
        <mat-card-header>  
          <mat-card-title>  
            {{ editingCategory ? 'Edit Category' : 'Add New Category' }}  
          </mat-card-title>  
        </mat-card-header>  
          
        <mat-card-content>  
          <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()" class="category-form">  
            <mat-form-field appearance="outline" class="form-field full-width">  
              <mat-label>Category Name</mat-label>  
              <input matInput formControlName="name" placeholder="Enter category name" required>  
              <mat-icon matSuffix>category</mat-icon>  
              @if (categoryForm.get('name')?.invalid && categoryForm.get('name')?.touched) {  
                <mat-error>  
                  @if (categoryForm.get('name')?.hasError('required')) {  
                    Category name is required  
                  }  
                  @if (categoryForm.get('name')?.hasError('minlength')) {  
                    Name must be at least 2 characters  
                  }  
                </mat-error>  
              }  
            </mat-form-field>  
  
            <mat-form-field appearance="outline" class="form-field full-width">  
              <mat-label>Description</mat-label>  
              <textarea matInput formControlName="description"   
                        placeholder="Enter category description (optional)"  
                        rows="3"></textarea>  
              <mat-icon matSuffix>description</mat-icon>  
            </mat-form-field>  
  
            <div class="form-actions">  
              <button mat-button type="button" (click)="cancelForm()" class="cancel-btn">  
                Cancel  
              </button>  
              <button mat-raised-button color="primary" type="submit"   
                      [disabled]="categoryForm.invalid" class="submit-btn">  
                <mat-icon>{{ editingCategory ? 'update' : 'add' }}</mat-icon>  
                {{ editingCategory ? 'Update Category' : 'Create Category' }}  
              </button>  
            </div>  
          </form>  
        </mat-card-content>  
      </mat-card>  
    </div>  
  }  
</div>