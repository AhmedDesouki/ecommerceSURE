<div class="products-container">  
  <div class="products-header">  
    <h1>Our Products</h1>  
    <p>Discover our amazing collection of products</p>  
  </div>  
  

   
    <!-- Search Bar -->
    <div class="search-container">
      <div class="search-field-simple">
        <input 
          type="text"
          [formControl]="searchControl"
          (input)="performSearch()"
          placeholder="Search products by name or description..."
          class="search-input">
        <span class="search-icon">üîç</span>
      </div>
    </div>
  <!-- Category Filter -->  
  <div class="filter-section">  
    <mat-card class="filter-card">  
      <mat-card-content>  
        <div class="filter-controls">  
          <mat-form-field appearance="outline" class="category-filter">  
            <mat-label>Filter by Category</mat-label>  
            <mat-select [value]="selectedCategoryId" (selectionChange)="onCategoryChange($event.value)">  
              <mat-option [value]="null">All Categories</mat-option>  
              <mat-option *ngFor="let category of categories" [value]="category.id">  
                {{ category.name }} ({{ category.productCount }})  
              </mat-option>  
            </mat-select>  
          </mat-form-field>  
            
          <div class="results-info">  
            <span class="results-count">{{ totalCount }} products found</span>  
          </div>  
        </div>  
      </mat-card-content>  
    </mat-card>  
  </div>  
  
  <!-- Products Grid -->  
  <div class="products-content">  
    @if (isLoading) {  
      <div class="loading-container">  
        <mat-spinner class="spinner"></mat-spinner>  
        <p>Loading products...</p>  
      </div>  
    } @else if (error) {  
      <div class="error-container">  
        <h3 class="error-message">{{ error }}</h3>  
        <p>Please try again later.</p>  
      </div>  
    } @else if (products.length === 0) {  
      <div class="empty-container">  
        <h3>No products found</h3>  
        <p>Try selecting a different category.</p>  
      </div>  
    } @else {  
      <div class="products-grid">  
        @for (product of products; track product.id) {  
          <mat-card class="product-card">  
            <div class="product-image-container">  
              <img   
                class="product-image"  
                [src]="product.imageUrl"   
                [alt]="product.name"  
                (error)="onImageError($event)">  
              <div class="product-category">{{ product.categoryName }}</div>  
            </div>  
              
            <mat-card-content class="product-content">  
              <h3 class="product-name">{{ product.name }}</h3>  
              <p class="product-description">{{ product.description }}</p>  
              <div class="product-footer">  
                <span class="product-price">${{ product.price | number:'1.2-2' }}</span>  
                <button mat-raised-button color="primary" class="add-to-cart-btn" (click)="addToCart(product)">  
                  Add to Cart  
                </button>  
              </div>  
            </mat-card-content>  
          </mat-card>  
        }  
      </div>  
    }  
  </div>  
</div>